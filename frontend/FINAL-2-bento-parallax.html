<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Harmonia Quiz - Bento Parallax Experience</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
--cream: #FAF6F1; --blush: #F5EDE6; --rose: #EFE5DC; --card-bg: #F0E8DF;
--gold: #D4A853; --gold-light: rgba(212,168,83,0.15); --gold-champagne: #E8C97A;
--maroon: #722F37; --maroon-deep: #5C1A1B; --wine: #8B3A3A;
--navy: #1E293B; --slate: #475569;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
font-family: 'DM Sans', sans-serif;
background: var(--cream);
color: var(--navy);
min-height: 100vh;
overflow-x: hidden;
perspective: 2000px;
}

/* Multi-layer parallax background - 2026 depth */
.parallax-bg {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
pointer-events: none;
z-index: 0;
}

.parallax-layer {
position: absolute;
width: 100%;
height: 100%;
transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.layer-1 { opacity: 0.15; z-index: 1; }
.layer-2 { opacity: 0.25; z-index: 2; }
.layer-3 { opacity: 0.35; z-index: 3; }

/* Geometric shapes for parallax */
.shape {
position: absolute;
border-radius: 50%;
filter: blur(80px);
}

.layer-1 .shape-1 { width: 500px; height: 500px; background: var(--maroon); top: 10%; left: 5%; }
.layer-1 .shape-2 { width: 400px; height: 400px; background: var(--gold); bottom: 15%; right: 10%; }
.layer-2 .shape-1 { width: 350px; height: 350px; background: var(--wine); top: 30%; right: 20%; }
.layer-2 .shape-2 { width: 450px; height: 450px; background: var(--gold-champagne); bottom: 25%; left: 15%; }
.layer-3 .shape-1 { width: 300px; height: 300px; background: var(--maroon-deep); top: 50%; left: 40%; }

/* Main container */
.container {
position: relative;
z-index: 10;
min-height: 100vh;
padding: 60px;
display: flex;
align-items: center;
justify-content: center;
}

.phase { display: none; opacity: 0; width: 100%; max-width: 1600px; margin: 0 auto; }
.phase.active { display: block; animation: phase-in 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

@keyframes phase-in {
0% { opacity: 0; transform: translateY(60px) rotateX(15deg) scale(0.95); }
100% { opacity: 1; transform: translateY(0) rotateX(0) scale(1); }
}

/* 3D Title with perspective */
.hero-title {
font-family: 'Cormorant Garamond', serif;
font-size: clamp(4rem, 10vw, 8rem);
font-weight: 700;
text-align: center;
margin-bottom: 20px;
background: linear-gradient(135deg, var(--maroon) 0%, var(--wine) 50%, var(--maroon-deep) 100%);
background-clip: text;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
transform-style: preserve-3d;
transition: all 0.3s;
line-height: 1;
letter-spacing: -0.03em;
}

.hero-subtitle {
text-align: center;
color: var(--slate);
font-size: 1.3rem;
margin-bottom: 60px;
opacity: 0.9;
font-weight: 500;
}

/* Bento Grid - 2026 layout trend */
.bento-grid {
display: grid;
grid-template-columns: repeat(6, 1fr);
grid-auto-rows: minmax(120px, auto);
gap: 24px;
margin-bottom: 40px;
}

.bento-item {
background: rgba(255, 255, 255, 0.9);
backdrop-filter: blur(40px) saturate(200%);
-webkit-backdrop-filter: blur(40px) saturate(200%);
border-radius: 28px;
padding: 35px;
border: 2px solid rgba(212, 168, 83, 0.15);
box-shadow: 0 20px 60px rgba(114, 47, 55, 0.08), inset 0 2px 0 rgba(255, 255, 255, 0.9);
transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
position: relative;
overflow: hidden;
cursor: default;
}

.bento-item::before {
content: '';
position: absolute;
top: -2px;
left: -2px;
right: -2px;
bottom: -2px;
background: linear-gradient(135deg, var(--gold), var(--maroon), var(--wine));
border-radius: 28px;
opacity: 0;
transition: opacity 0.3s;
z-index: -1;
}

.bento-item:hover::before { opacity: 0.15; }

.bento-item:hover {
transform: translateY(-8px) scale(1.02);
box-shadow: 0 30px 80px rgba(114, 47, 55, 0.15);
border-color: var(--gold);
}

/* Magnetic button - 2026 micro-interaction */
.btn-magnetic {
position: relative;
padding: 24px 50px;
background: linear-gradient(135deg, var(--maroon), var(--maroon-deep));
color: white;
border: none;
border-radius: 20px;
font-size: 1.2rem;
font-weight: 600;
cursor: pointer;
font-family: inherit;
overflow: hidden;
box-shadow: 0 15px 50px rgba(114, 47, 55, 0.35);
transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
transform-style: preserve-3d;
}

.btn-magnetic::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255, 255, 255, 0.3), transparent);
opacity: 0;
transition: opacity 0.3s;
}

.btn-magnetic:hover::before { opacity: 1; }

.btn-magnetic:hover {
transform: translateY(-6px) scale(1.05) rotateX(5deg);
box-shadow: 0 25px 70px rgba(114, 47, 55, 0.45);
}

.btn-magnetic:disabled {
opacity: 0.4;
cursor: not-allowed;
transform: none;
}

.btn-magnetic span {
position: relative;
z-index: 1;
}

/* Grid layouts for setup */
.bi-name-a { grid-column: 1 / 4; grid-row: 1 / 2; }
.bi-name-b { grid-column: 4 / 7; grid-row: 1 / 2; }
.bi-gender-a { grid-column: 1 / 4; grid-row: 2 / 3; }
.bi-gender-b { grid-column: 4 / 7; grid-row: 2 / 3; }
.bi-cta { grid-column: 1 / 7; grid-row: 3 / 4; }

/* Floating label inputs */
.field-wrapper {
position: relative;
}

.field-wrapper label {
position: absolute;
left: 24px;
top: -12px;
padding: 6px 16px;
background: linear-gradient(135deg, rgba(250, 246, 241, 0.95), rgba(245, 237, 230, 0.95));
backdrop-filter: blur(10px);
border-radius: 16px;
font-size: 0.85rem;
font-weight: 600;
color: var(--maroon);
z-index: 1;
box-shadow: 0 4px 16px rgba(114, 47, 55, 0.1);
}

.field-wrapper input,
.field-wrapper select,
.field-wrapper textarea {
width: 100%;
padding: 22px 26px;
background: rgba(250, 246, 241, 0.5);
border: 2px solid transparent;
border-radius: 20px;
font-family: inherit;
font-size: 1.05rem;
color: var(--navy);
transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.field-wrapper input:focus,
.field-wrapper select:focus,
.field-wrapper textarea:focus {
outline: none;
background: white;
border-color: var(--gold);
transform: translateY(-3px) scale(1.01);
box-shadow: 0 15px 50px rgba(212, 168, 83, 0.3), 0 0 0 6px var(--gold-light);
}

/* Quiz layout - morphing cards */
.quiz-container {
display: grid;
grid-template-columns: 320px 1fr;
gap: 50px;
align-items: start;
}

.quiz-sidebar {
position: sticky;
top: 60px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(40px);
border-radius: 28px;
padding: 40px;
border: 2px solid rgba(212, 168, 83, 0.15);
box-shadow: 0 20px 60px rgba(114, 47, 55, 0.1);
}

.current-user {
font-size: 0.85rem;
color: var(--slate);
margin-bottom: 8px;
text-transform: uppercase;
letter-spacing: 1.5px;
font-weight: 600;
}

.user-name {
font-family: 'Cormorant Garamond', serif;
font-size: 2.8rem;
font-weight: 700;
color: var(--maroon);
margin-bottom: 35px;
line-height: 1;
}

.progress-ring {
width: 140px;
height: 140px;
margin: 0 auto;
position: relative;
}

.progress-ring svg {
transform: rotate(-90deg);
}

.progress-ring circle {
fill: none;
stroke-width: 8;
}

.progress-bg { stroke: rgba(212, 168, 83, 0.15); }
.progress-bar {
stroke: var(--gold);
stroke-linecap: round;
transition: stroke-dashoffset 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
filter: drop-shadow(0 0 12px rgba(212, 168, 83, 0.5));
}

.progress-text {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
font-size: 2rem;
font-weight: 700;
color: var(--maroon);
}

.question-steps {
margin-top: 30px;
}

.step-item {
display: flex;
align-items: center;
gap: 15px;
margin-bottom: 18px;
transition: all 0.3s;
}

.step-dot {
width: 36px;
height: 36px;
border-radius: 50%;
background: rgba(212, 168, 83, 0.15);
color: var(--slate);
display: flex;
align-items: center;
justify-content: center;
font-weight: 700;
font-size: 0.9rem;
transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.step-item.active .step-dot {
background: var(--gold);
color: white;
transform: scale(1.2);
box-shadow: 0 6px 24px rgba(212, 168, 83, 0.45);
}

.step-item.completed .step-dot {
background: var(--maroon);
color: white;
}

.step-label {
font-size: 0.9rem;
color: var(--slate);
font-weight: 500;
}

.step-item.active .step-label {
color: var(--maroon);
font-weight: 700;
}

/* Question card with 3D transforms */
.question-morph {
background: white;
border-radius: 32px;
padding: 60px;
box-shadow: 0 25px 80px rgba(114, 47, 55, 0.15);
position: relative;
overflow: hidden;
transform-style: preserve-3d;
transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.question-morph::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 4px;
background: linear-gradient(90deg, transparent, var(--gold), transparent);
animation: top-shine 4s infinite;
}

@keyframes top-shine {
0% { left: -100%; }
100% { left: 100%; }
}

.q-badge {
display: inline-flex;
align-items: center;
gap: 10px;
background: linear-gradient(135deg, var(--gold), var(--gold-champagne));
color: var(--maroon-deep);
padding: 12px 28px;
border-radius: 50px;
font-size: 0.8rem;
font-weight: 700;
letter-spacing: 2px;
text-transform: uppercase;
margin-bottom: 30px;
box-shadow: 0 8px 32px rgba(212, 168, 83, 0.4);
animation: badge-hover 3s ease-in-out infinite;
}

@keyframes badge-hover {
0%, 100% { transform: translateY(0); }
50% { transform: translateY(-6px); }
}

.q-title {
font-family: 'Cormorant Garamond', serif;
font-size: 3.2rem;
font-weight: 700;
color: var(--maroon);
margin-bottom: 24px;
line-height: 1.2;
letter-spacing: -0.01em;
}

.q-text {
font-size: 1.25rem;
color: var(--slate);
line-height: 1.8;
margin-bottom: 40px;
}

textarea {
min-height: 200px;
resize: vertical;
line-height: 1.8;
}

.word-counter {
text-align: right;
margin-top: 15px;
font-size: 1rem;
color: var(--slate);
font-weight: 500;
transition: all 0.3s;
}

.word-counter.success {
color: var(--gold);
font-weight: 700;
text-shadow: 0 0 15px rgba(212, 168, 83, 0.6);
animation: counter-pulse 2s ease-in-out infinite;
}

@keyframes counter-pulse {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.05); }
}

.quiz-actions {
display: flex;
gap: 20px;
justify-content: flex-end;
margin-top: 40px;
}

.btn-skip {
padding: 18px 45px;
background: rgba(255, 255, 255, 0.8);
color: var(--slate);
border: 2px solid rgba(114, 47, 55, 0.1);
border-radius: 18px;
font-size: 1.05rem;
font-weight: 600;
cursor: pointer;
font-family: inherit;
transition: all 0.3s;
}

.btn-skip:hover {
background: white;
border-color: var(--maroon);
color: var(--maroon);
transform: translateY(-2px);
}

/* Processing - animated mesh gradient */
.processing-container {
text-align: center;
max-width: 700px;
margin: 0 auto;
}

.processing-visual {
width: 280px;
height: 280px;
margin: 0 auto 60px;
position: relative;
}

.mesh-gradient {
width: 100%;
height: 100%;
border-radius: 50%;
background: conic-gradient(from 0deg, var(--maroon), var(--gold), var(--wine), var(--gold-champagne), var(--maroon));
animation: mesh-rotate 6s linear infinite;
box-shadow: 0 0 80px rgba(212, 168, 83, 0.6), inset 0 0 60px rgba(255, 255, 255, 0.3);
position: relative;
}

.mesh-gradient::before {
content: '✨';
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
font-size: 5rem;
animation: emoji-spin 4s ease-in-out infinite;
}

@keyframes mesh-rotate {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

@keyframes emoji-spin {
0%, 100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); }
50% { transform: translate(-50%, -50%) scale(1.3) rotate(180deg); }
}

.processing-title {
font-family: 'Cormorant Garamond', serif;
font-size: 4rem;
font-weight: 700;
color: var(--maroon);
margin-bottom: 25px;
}

.processing-status {
font-size: 1.3rem;
color: var(--slate);
margin-bottom: 12px;
}

.processing-percent {
font-size: 1.4rem;
font-weight: 700;
color: var(--gold);
text-shadow: 0 0 20px rgba(212, 168, 83, 0.5);
}

/* Results - advanced bento grid */
.results-bento {
display: grid;
grid-template-columns: repeat(8, 1fr);
grid-auto-rows: minmax(140px, auto);
gap: 30px;
}

.rb-title { grid-column: 1 / 9; grid-row: 1 / 2; text-align: center; }

.rb-profile-a {
grid-column: 1 / 4;
grid-row: 2 / 5;
background: white;
border-radius: 32px;
padding: 50px;
box-shadow: 0 25px 80px rgba(114, 47, 55, 0.12);
transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.rb-score {
grid-column: 4 / 6;
grid-row: 2 / 5;
background: linear-gradient(135deg, var(--maroon), var(--wine), var(--maroon-deep));
border-radius: 32px;
padding: 60px 40px;
text-align: center;
color: white;
box-shadow: 0 30px 90px rgba(114, 47, 55, 0.4);
position: relative;
overflow: hidden;
}

.rb-score::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: radial-gradient(circle, rgba(255, 255, 255, 0.15), transparent);
animation: score-drift 8s ease-in-out infinite;
}

@keyframes score-drift {
0%, 100% { transform: translate(0, 0); }
50% { transform: translate(30%, -30%); }
}

.rb-profile-b {
grid-column: 6 / 9;
grid-row: 2 / 5;
background: white;
border-radius: 32px;
padding: 50px;
box-shadow: 0 25px 80px rgba(114, 47, 55, 0.12);
transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.rb-profile-a:hover,
.rb-profile-b:hover {
transform: translateY(-12px) scale(1.03);
box-shadow: 0 35px 100px rgba(114, 47, 55, 0.2);
}

.profile-name {
font-family: 'Cormorant Garamond', serif;
font-size: 2.8rem;
font-weight: 700;
color: var(--maroon);
margin-bottom: 35px;
text-align: center;
}

.radar-chart {
width: 160px;
height: 160px;
margin: 35px auto;
}

.trait-tags {
display: flex;
flex-wrap: wrap;
gap: 12px;
justify-content: center;
}

.trait-tag {
padding: 10px 22px;
background: var(--gold-light);
border-radius: 24px;
font-size: 0.95rem;
font-weight: 600;
color: var(--maroon);
transition: all 0.3s;
}

.trait-tag:hover {
background: var(--gold);
color: white;
transform: translateY(-2px);
}

.score-label {
font-size: 0.95rem;
margin-bottom: 25px;
opacity: 0.95;
position: relative;
z-index: 1;
letter-spacing: 2px;
text-transform: uppercase;
}

.score-number {
font-size: 9rem;
font-weight: 700;
line-height: 1;
position: relative;
z-index: 1;
text-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
}

.score-number small {
font-size: 6rem;
}

.score-desc {
margin-top: 25px;
font-size: 1.1rem;
opacity: 0.95;
position: relative;
z-index: 1;
font-weight: 500;
}

.rb-actions { grid-column: 1 / 9; grid-row: 5 / 6; display: flex; gap: 20px; justify-content: center; }

@media (max-width: 1200px) {
.quiz-container { grid-template-columns: 1fr; }
.quiz-sidebar { position: static; }
.results-bento { grid-template-columns: 1fr; }
.rb-profile-a, .rb-score, .rb-profile-b { grid-column: 1 / -1; grid-row: auto; }
}

@media (max-width: 768px) {
.container { padding: 30px 20px; }
.bento-grid { grid-template-columns: 1fr; }
.bi-name-a, .bi-name-b, .bi-gender-a, .bi-gender-b, .bi-cta { grid-column: 1 / -1; }
.question-morph { padding: 35px; }
.q-title { font-size: 2.2rem; }
}
</style>
</head>
<body>
<!-- Multi-layer parallax background -->
<div class="parallax-bg" id="parallaxBg">
<div class="parallax-layer layer-1">
<div class="shape shape-1"></div>
<div class="shape shape-2"></div>
</div>
<div class="parallax-layer layer-2">
<div class="shape shape-1"></div>
<div class="shape shape-2"></div>
</div>
<div class="parallax-layer layer-3">
<div class="shape shape-1"></div>
</div>
</div>

<!-- SETUP PHASE -->
<div class="container">
<div class="phase active" id="setup">
<div>
<h1 class="hero-title" id="heroTitle">Harmonia</h1>
<p class="hero-subtitle">Discover Your Compatibility Through Depth</p>

<div class="bento-grid">
<div class="bento-item bi-name-a">
<div class="field-wrapper">
<label>Your Name</label>
<input type="text" id="nameA" placeholder="Enter your name">
</div>
</div>

<div class="bento-item bi-name-b">
<div class="field-wrapper">
<label>Partner's Name</label>
<input type="text" id="nameB" placeholder="Enter partner's name">
</div>
</div>

<div class="bento-item bi-gender-a">
<div class="field-wrapper">
<label>Your Gender</label>
<select id="genderA">
<option>Male</option>
<option>Female</option>
<option>Other</option>
</select>
</div>
</div>

<div class="bento-item bi-gender-b">
<div class="field-wrapper">
<label>Partner's Gender</label>
<select id="genderB">
<option>Male</option>
<option>Female</option>
<option>Other</option>
</select>
</div>
</div>

<div class="bento-item bi-cta" style="display: flex; align-items: center; justify-content: center;">
<button class="btn-magnetic" onclick="startQuiz()" id="startBtn">
<span>Begin Your Journey →</span>
</button>
</div>
</div>
</div>
</div>

<!-- QUIZ PHASE -->
<div class="container" style="display: none;">
<div class="phase" id="quiz">
<div class="quiz-container">
<div class="quiz-sidebar">
<div class="current-user">Answering for</div>
<div class="user-name" id="currentUser">Alex</div>

<div class="progress-ring">
<svg width="140" height="140">
<circle class="progress-bg" cx="70" cy="70" r="60"></circle>
<circle class="progress-bar" id="progressCircle" cx="70" cy="70" r="60" stroke-dasharray="377" stroke-dashoffset="377"></circle>
</svg>
<div class="progress-text" id="progressText">1/6</div>
</div>

<div class="question-steps">
<div class="step-item active"><div class="step-dot">1</div><div class="step-label">Social</div></div>
<div class="step-item"><div class="step-dot">2</div><div class="step-label">Stress</div></div>
<div class="step-item"><div class="step-dot">3</div><div class="step-label">Values</div></div>
<div class="step-item"><div class="step-dot">4</div><div class="step-label">Conflict</div></div>
<div class="step-item"><div class="step-dot">5</div><div class="step-label">Time</div></div>
<div class="step-item"><div class="step-dot">6</div><div class="step-label">Growth</div></div>
</div>
</div>

<div>
<div class="question-morph" id="questionCard">
<span class="q-badge"><span id="qNum">QUESTION 1</span></span>
<h2 class="q-title" id="qTitle">The Stranger's Story</h2>
<p class="q-text" id="qText">At a party, someone you've just met starts telling you a deeply personal story about their struggles. How do you respond?</p>
<div class="field-wrapper">
<textarea id="answer" placeholder="Share your thoughts in detail..."></textarea>
</div>
<div class="word-counter" id="wordCounter">0 words</div>
</div>

<div class="quiz-actions">
<button class="btn-skip" onclick="skipQuestion()">Skip</button>
<button class="btn-magnetic" onclick="nextQuestion()" id="nextBtn" disabled>
<span>Next →</span>
</button>
</div>
</div>
</div>
</div>
</div>

<!-- PROCESSING PHASE -->
<div class="container" style="display: none;">
<div class="phase" id="processing">
<div class="processing-container">
<div class="processing-visual">
<div class="mesh-gradient"></div>
</div>
<h2 class="processing-title">Analyzing</h2>
<p class="processing-status" id="procStatus">Processing profiles...</p>
<p class="processing-percent" id="procPercent">0%</p>
</div>
</div>
</div>

<!-- RESULTS PHASE -->
<div class="container" style="display: none;">
<div class="phase" id="results">
<div class="results-bento">
<div class="rb-title">
<h1 class="hero-title" style="margin-bottom: 10px;">Your Harmonia Score</h1>
</div>

<div class="rb-profile-a">
<h3 class="profile-name" id="resultNameA">Alex</h3>
<svg class="radar-chart" viewBox="0 0 100 100">
<polygon points="50,10 85,30 85,70 50,90 15,70 15,30" fill="none" stroke="rgba(212,168,83,0.3)" stroke-width="2"/>
<polygon points="50,20 75,35 75,65 50,80 25,65 25,35" fill="rgba(114,47,55,0.2)" stroke="var(--maroon)" stroke-width="3"/>
</svg>
<div class="trait-tags">
<span class="trait-tag">Greed</span>
<span class="trait-tag">Pride</span>
</div>
</div>

<div class="rb-score">
<div class="score-label">Harmonia Score</div>
<div class="score-number">87<small>%</small></div>
<div class="score-desc">Excellent Match</div>
</div>

<div class="rb-profile-b">
<h3 class="profile-name" id="resultNameB">Jordan</h3>
<svg class="radar-chart" viewBox="0 0 100 100">
<polygon points="50,10 85,30 85,70 50,90 15,70 15,30" fill="none" stroke="rgba(212,168,83,0.3)" stroke-width="2"/>
<polygon points="50,25 70,37 72,63 50,75 28,63 30,37" fill="rgba(212,168,83,0.2)" stroke="var(--gold)" stroke-width="3"/>
</svg>
<div class="trait-tags">
<span class="trait-tag">Wrath</span>
<span class="trait-tag">Envy</span>
</div>
</div>

<div class="rb-actions">
<button class="btn-magnetic" style="background: linear-gradient(135deg, var(--gold), var(--gold-champagne));"><span>Download Report</span></button>
<button class="btn-skip" onclick="location.reload()">Start Over</button>
</div>
</div>
</div>
</div>
</div>

<script>
// Questions data
const questions = [
{title: "The Stranger's Story", text: "At a party, someone you've just met starts telling you a deeply personal story about their struggles. How do you respond?"},
{title: "The Unexpected Expense", text: "Your car needs a $1,200 repair you didn't budget for. Walk me through your thought process."},
{title: "The Found Wallet", text: "You find a wallet with $300 cash in a parking lot. What do you do and why?"},
{title: "The Customer Service Call", text: "You've been on hold for 45 minutes about a billing error that's clearly the company's fault. When someone finally answers, how do you handle the conversation?"},
{title: "The Friend Crisis", text: "Your best friend calls with an emergency the same night as a planned date you've been looking forward to. What's your thinking process?"},
{title: "The Mistake Made", text: "You realize you've made a significant mistake at work that no one else has noticed yet. What do you do?"}
];

let currentQ = 0;
let currentUser = 1;
const containers = document.querySelectorAll('.container');

// Multi-layer parallax effect
document.addEventListener('mousemove', (e) => {
const x = (e.clientX / window.innerWidth - 0.5) * 2;
const y = (e.clientY / window.innerHeight - 0.5) * 2;
const layers = document.querySelectorAll('.parallax-layer');
layers[0].style.transform = `translate(${x * 10}px, ${y * 10}px)`;
layers[1].style.transform = `translate(${x * 20}px, ${y * 20}px)`;
layers[2].style.transform = `translate(${x * 30}px, ${y * 30}px)`;

// 3D title tilt
const title = document.getElementById('heroTitle');
if (title) {
title.style.transform = `perspective(1000px) rotateX(${y * 5}deg) rotateY(${x * 5}deg)`;
}
});

// Magnetic button effect
document.querySelectorAll('.btn-magnetic').forEach(btn => {
btn.addEventListener('mousemove', (e) => {
const rect = btn.getBoundingClientRect();
const x = ((e.clientX - rect.left) / rect.width) * 100;
const y = ((e.clientY - rect.top) / rect.height) * 100;
btn.style.setProperty('--mouse-x', `${x}%`);
btn.style.setProperty('--mouse-y', `${y}%`);
});
});

function showContainer(idx) {
containers.forEach((c, i) => {
c.style.display = i === idx ? 'flex' : 'none';
});
}

function startQuiz() {
const nameA = document.getElementById('nameA').value.trim();
const nameB = document.getElementById('nameB').value.trim();
if (!nameA || !nameB) {
alert('Please enter both names');
return;
}
document.getElementById('resultNameA').textContent = nameA;
document.getElementById('resultNameB').textContent = nameB;
showContainer(1);
document.getElementById('quiz').classList.add('active');
document.getElementById('currentUser').textContent = nameA;
updateQuestion();
}

function updateQuestion() {
const q = questions[currentQ];
document.getElementById('qNum').textContent = `QUESTION ${currentQ + 1}`;
document.getElementById('qTitle').textContent = q.title;
document.getElementById('qText').textContent = q.text;
document.getElementById('answer').value = '';
document.getElementById('wordCounter').textContent = '0 words';
document.getElementById('nextBtn').disabled = true;
document.getElementById('progressText').textContent = `${currentQ + 1}/6`;
const circumference = 377;
const offset = circumference - ((currentQ + 1) / 6) * circumference;
document.getElementById('progressCircle').style.strokeDashoffset = offset;

// Update step indicators
document.querySelectorAll('.step-item').forEach((item, idx) => {
item.classList.remove('active', 'completed');
if (idx < currentQ) item.classList.add('completed');
if (idx === currentQ) item.classList.add('active');
});
}

// Word counter
document.getElementById('answer').addEventListener('input', (e) => {
const text = e.target.value.trim();
const words = text ? text.split(/\s+/).length : 0;
const counter = document.getElementById('wordCounter');
counter.textContent = `${words} words`;
const valid = words >= 25 && words <= 150;
counter.classList.toggle('success', valid);
document.getElementById('nextBtn').disabled = !valid;
});

function nextQuestion() {
currentQ++;
if (currentQ < 6) {
updateQuestion();
} else if (currentUser === 1) {
currentUser = 2;
currentQ = 0;
document.getElementById('currentUser').textContent = document.getElementById('nameB').value;
updateQuestion();
} else {
// Processing
showContainer(2);
document.getElementById('processing').classList.add('active');
let percent = 0;
const interval = setInterval(() => {
percent += 5;
document.getElementById('procPercent').textContent = `${percent}%`;
if (percent < 30) document.getElementById('procStatus').textContent = 'Processing profiles...';
else if (percent < 70) document.getElementById('procStatus').textContent = 'Analyzing compatibility...';
else document.getElementById('procStatus').textContent = 'Generating insights...';
if (percent >= 100) {
clearInterval(interval);
setTimeout(() => {
showContainer(3);
document.getElementById('results').classList.add('active');
}, 600);
}
}, 90);
}
}

function skipQuestion() {
nextQuestion();
}
</script>
</body>
</html>
