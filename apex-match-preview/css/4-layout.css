/**
 * Harmonia Design System - Layout Patterns
 *
 * Professional Flexbox and Grid patterns for centered, responsive layouts
 * Based on modern web design best practices (2025)
 *
 * References:
 * - CSS Tricks Flexbox Guide
 * - Common Flexbox Layout Patterns (Tobias Ahlin)
 * - Advanced CSS Flexbox Layouts (C# Corner)
 */

/* ============================================
   FULL-PAGE LAYOUTS
   Professional centering for entire pages
   ============================================ */

/* Full-page centered layout (for single-card interfaces) */
.layout-full-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  min-height: -webkit-fill-available;
  padding: var(--space-8);
  width: 100%;
}

/* Full-page with header and centered content */
.layout-header-center {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

.layout-header-center > header {
  flex-shrink: 0;
}

.layout-header-center > main {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-8);
}

/* Grid-based full-page center (modern approach) */
.layout-grid-center {
  display: grid;
  place-items: center;
  min-height: 100vh;
  min-height: -webkit-fill-available;
  padding: var(--space-8);
}

/* ============================================
   CONTAINER PATTERNS
   Max-width containers with centering
   ============================================ */

/* Base container - centered with padding */
.container {
  width: 100%;
  max-width: var(--max-width-6xl);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

/* Container variations by width */
.container-xs {
  max-width: var(--max-width-xs);
}

.container-sm {
  max-width: var(--max-width-sm);
}

.container-md {
  max-width: var(--max-width-md);
}

.container-lg {
  max-width: var(--max-width-lg);
}

.container-xl {
  max-width: var(--max-width-xl);
}

.container-2xl {
  max-width: var(--max-width-2xl);
}

.container-3xl {
  max-width: var(--max-width-3xl);
}

.container-4xl {
  max-width: var(--max-width-4xl);
}

.container-5xl {
  max-width: var(--max-width-5xl);
}

.container-full {
  max-width: 100%;
}

/* ============================================
   FLEXBOX PATTERNS
   Common layout patterns using Flexbox
   ============================================ */

/* Horizontal flex container (row) */
.flex-row {
  display: flex;
  flex-direction: row;
  gap: var(--space-4);
}

/* Vertical flex container (column) */
.flex-col {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

/* Center items horizontally and vertically */
.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Center items horizontally */
.flex-center-x {
  display: flex;
  justify-content: center;
}

/* Center items vertically */
.flex-center-y {
  display: flex;
  align-items: center;
}

/* Space between items */
.flex-between {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Space around items */
.flex-around {
  display: flex;
  justify-content: space-around;
  align-items: center;
}

/* Space evenly */
.flex-evenly {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
}

/* Align items to start */
.flex-start {
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

/* Align items to end */
.flex-end {
  display: flex;
  justify-content: flex-end;
  align-items: center;
}

/* Wrap flex items */
.flex-wrap {
  flex-wrap: wrap;
}

/* No wrap (default) */
.flex-nowrap {
  flex-wrap: nowrap;
}

/* Grow to fill space */
.flex-1 {
  flex: 1;
}

/* Don't shrink */
.flex-shrink-0 {
  flex-shrink: 0;
}

/* Gap variations */
.gap-0 { gap: 0; }
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.gap-4 { gap: var(--space-4); }
.gap-6 { gap: var(--space-6); }
.gap-8 { gap: var(--space-8); }
.gap-12 { gap: var(--space-12); }

/* ============================================
   GRID PATTERNS
   Modern CSS Grid layouts
   ============================================ */

/* Base grid */
.grid {
  display: grid;
  gap: var(--space-4);
}

/* Grid with columns */
.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
.grid-cols-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); }

/* Auto-fit grid (responsive columns) */
.grid-auto-fit {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
}

/* Auto-fill grid */
.grid-auto-fill {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: var(--space-4);
}

/* Center grid items */
.grid-center {
  display: grid;
  place-items: center;
}

/* ============================================
   MODULE-SPECIFIC LAYOUTS
   Layouts for the 5 Harmonia modules
   ============================================ */

/* Module 1: Setup (Onboarding) - Centered single-column form */
.layout-setup {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: var(--space-8);
}

.setup-form {
  width: 100%;
  max-width: 480px; /* Mobile-first, single column */
  background-color: var(--parchment-100);
  padding: var(--space-10);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
}

/* Module 2: Calibration (Portrait Gallery) - Full-screen centered */
.layout-calibration {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: var(--space-8);
  position: relative;
}

.portrait-frame {
  width: 100%;
  max-width: 600px;
  aspect-ratio: 3/4;
  position: relative;
  border: 2px solid var(--champagne-400);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-xl);
}

.portrait-frame img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Slider container (beneath portrait) */
.slider-container {
  width: 100%;
  max-width: 600px;
  margin-top: var(--space-8);
  padding: var(--space-6);
  background-color: rgba(var(--parchment-100-rgb), 0.9);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(8px);
}

/* Module 3: Assessment (Card Stack) - Centered cards */
.layout-assessment {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: var(--space-8);
  position: relative;
}

.assessment-card {
  width: 100%;
  max-width: 560px;
  min-height: 400px;
  background-color: var(--parchment-50);
  border: 1px solid rgba(var(--champagne-400-rgb), 0.3);
  border-radius: var(--radius-xl);
  padding: var(--space-10);
  box-shadow: var(--shadow-lg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
}

/* Vertical progress tube (right edge) */
.progress-tube {
  position: fixed;
  right: var(--space-8);
  top: 50%;
  transform: translateY(-50%);
  width: 12px;
  height: 300px;
  background-color: rgba(var(--parchment-100-rgb), 0.6);
  border: 1px solid rgba(var(--mediterranean-500-rgb), 0.2);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.progress-tube-fill {
  width: 100%;
  background: linear-gradient(
    to top,
    var(--mediterranean-600),
    var(--mediterranean-500)
  );
  border-radius: var(--radius-full);
  transition: height 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Module 4: Analysis (Theater of Computation) - Full-screen overlay */
.layout-analysis {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(
    135deg,
    rgba(var(--parchment-900-rgb), 0.95),
    rgba(var(--mediterranean-600-rgb), 0.95)
  );
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: var(--z-modal);
}

.analysis-stage {
  max-width: 600px;
  text-align: center;
  color: var(--parchment-50);
}

/* Module 5: Results (Compatibility Report) - Grid layout */
.layout-results {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--space-12) var(--space-4);
  min-height: 100vh;
}

.results-container {
  width: 100%;
  max-width: var(--max-width-5xl);
}

/* Results grid - Charts side by side on desktop */
.results-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-8);
  margin-top: var(--space-8);
}

@media (min-width: 1024px) {
  .results-grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* Chart containers */
.chart-container {
  background-color: var(--parchment-100);
  border: 1px solid rgba(var(--parchment-200-rgb), 0.8);
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  box-shadow: var(--shadow-base);
}

/* ============================================
   STACK LAYOUTS (Vertical spacing)
   ============================================ */

.stack-xs > * + * { margin-top: var(--space-2); }
.stack-sm > * + * { margin-top: var(--space-3); }
.stack-md > * + * { margin-top: var(--space-4); }
.stack-lg > * + * { margin-top: var(--space-6); }
.stack-xl > * + * { margin-top: var(--space-8); }
.stack-2xl > * + * { margin-top: var(--space-12); }

/* ============================================
   ASPECT RATIOS
   Maintain consistent proportions
   ============================================ */

.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-portrait {
  aspect-ratio: 3 / 4;
}

.aspect-landscape {
  aspect-ratio: 4 / 3;
}

/* ============================================
   POSITIONING UTILITIES
   ============================================ */

.relative {
  position: relative;
}

.absolute {
  position: absolute;
}

.fixed {
  position: fixed;
}

.sticky {
  position: sticky;
}

/* Absolute centering */
.absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* ============================================
   RESPONSIVE BREAKPOINTS
   Mobile-first responsive utilities
   ============================================ */

/* Tablet (768px and up) */
@media (min-width: 768px) {
  .container {
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }

  .layout-full-center,
  .layout-grid-center {
    padding: var(--space-12);
  }

  .setup-form {
    padding: var(--space-12);
  }

  .portrait-frame {
    max-width: 700px;
  }

  .assessment-card {
    max-width: 640px;
    min-height: 480px;
  }
}

/* Desktop (1024px and up) */
@media (min-width: 1024px) {
  .container {
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }

  .portrait-frame {
    max-width: 800px;
  }

  .assessment-card {
    max-width: 720px;
  }

  /* Show side-by-side layouts on desktop */
  .flex-col-mobile {
    flex-direction: row;
  }
}

/* Large desktop (1280px and up) */
@media (min-width: 1280px) {
  .container {
    max-width: var(--max-width-7xl);
  }

  .results-container {
    max-width: var(--max-width-6xl);
  }
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .layout-full-center,
  .layout-grid-center,
  .layout-setup,
  .layout-calibration,
  .layout-assessment {
    padding: var(--space-4);
  }

  .setup-form {
    padding: var(--space-6);
  }

  .assessment-card {
    padding: var(--space-6);
    min-height: 350px;
  }

  .portrait-frame {
    max-width: 100%;
  }

  .progress-tube {
    right: var(--space-4);
    height: 250px;
  }

  /* Stack layouts on mobile */
  .flex-row-desktop {
    flex-direction: column;
  }

  /* Full width containers on mobile */
  .container-mobile-full {
    padding-left: 0;
    padding-right: 0;
  }
}

/* Small mobile (480px and below) */
@media (max-width: 480px) {
  .layout-full-center,
  .layout-grid-center,
  .layout-setup,
  .layout-calibration,
  .layout-assessment {
    padding: var(--space-3);
  }

  .setup-form {
    padding: var(--space-4);
    border-radius: var(--radius-lg);
  }

  .assessment-card {
    padding: var(--space-4);
    min-height: 300px;
  }

  .chart-container {
    padding: var(--space-4);
  }
}

/* ============================================
   VISIBILITY UTILITIES
   Responsive show/hide
   ============================================ */

/* Hide on mobile */
@media (max-width: 768px) {
  .hide-mobile {
    display: none !important;
  }
}

/* Hide on tablet */
@media (min-width: 768px) and (max-width: 1024px) {
  .hide-tablet {
    display: none !important;
  }
}

/* Hide on desktop */
@media (min-width: 1024px) {
  .hide-desktop {
    display: none !important;
  }
}

/* Show only on mobile */
.show-mobile {
  display: block;
}

@media (min-width: 768px) {
  .show-mobile {
    display: none !important;
  }
}

/* Show only on tablet */
.show-tablet {
  display: none;
}

@media (min-width: 768px) and (max-width: 1024px) {
  .show-tablet {
    display: block !important;
  }
}

/* Show only on desktop */
.show-desktop {
  display: none;
}

@media (min-width: 1024px) {
  .show-desktop {
    display: block !important;
  }
}
