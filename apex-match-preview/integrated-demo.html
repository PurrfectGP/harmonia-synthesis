<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harmonia Apex Match - Integrated Demo</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS Files -->
    <link rel="stylesheet" href="css/1-variables.css">
    <link rel="stylesheet" href="css/2-reset.css">
    <link rel="stylesheet" href="css/3-base.css">
    <link rel="stylesheet" href="css/4-layout.css">

    <style>
        /* Demo-specific styles */
        .demo-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem 2rem;
            gap: 2rem;
        }

        .demo-card {
            background: rgba(245, 240, 230, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            padding: 2.5rem;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(42, 78, 108, 0.15);
        }

        .demo-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            font-weight: 600;
            color: #2a4e6c;
            margin-bottom: 1rem;
            text-align: center;
        }

        .demo-description {
            font-family: 'DM Sans', sans-serif;
            font-size: 0.95rem;
            color: #2c241b;
            opacity: 0.8;
            text-align: center;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .component-demo {
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
        }

        .component-label {
            font-family: 'DM Sans', sans-serif;
            font-size: 0.875rem;
            font-weight: 600;
            color: #2a4e6c;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .chart-container {
            max-width: 400px;
            margin: 2rem auto;
        }

        .particle-demo-area {
            width: 100%;
            height: 300px;
            background: rgba(245, 240, 230, 0.5);
            border: 2px dashed #d4af37;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .particle-demo-area:hover {
            background: rgba(245, 240, 230, 0.8);
            border-color: #c5a028;
        }

        .center-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .output-display {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(42, 78, 108, 0.1);
            border-radius: 8px;
            font-family: 'DM Sans', monospace;
            font-size: 0.875rem;
            color: #2a4e6c;
            min-height: 3rem;
        }
    </style>
</head>
<body>

    <!-- Section 1: Floating Inputs Demo -->
    <section class="demo-section">
        <div class="demo-card">
            <h1 class="demo-title">Floating Label Inputs</h1>
            <p class="demo-description">
                Material Design-inspired input fields with smooth floating label animations.
                Click to focus, type to see validation in action.
            </p>

            <div class="component-demo">
                <div class="component-label">Basic Information</div>
                <div id="input-name"></div>
                <div id="input-email"></div>
                <div id="input-age"></div>
            </div>

            <div class="output-display" id="input-output">
                Waiting for input...
            </div>
        </div>
    </section>

    <!-- Section 2: Segmented Control Demo -->
    <section class="demo-section">
        <div class="demo-card">
            <h1 class="demo-title">Segmented Control</h1>
            <p class="demo-description">
                iOS-style segmented control with spring physics animation.
                Click segments to see the smooth sliding effect.
            </p>

            <div class="component-demo">
                <div class="component-label">Gender Selection</div>
                <div class="center-container">
                    <div id="gender-control"></div>
                </div>
            </div>

            <div class="component-demo">
                <div class="component-label">Seeking Preference</div>
                <div class="center-container">
                    <div id="seeking-control"></div>
                </div>
            </div>

            <div class="output-display" id="control-output">
                Waiting for selection...
            </div>
        </div>
    </section>

    <!-- Section 3: Biometric Seal Demo -->
    <section class="demo-section">
        <div class="demo-card">
            <h1 class="demo-title">Biometric Seal</h1>
            <p class="demo-description">
                Circular file upload with liquid fill animation showing upload progress.
                Click the seal to upload a file.
            </p>

            <div class="component-demo">
                <div class="component-label">Upload Biometric Data</div>
                <div class="center-container">
                    <div id="biometric-seal"></div>
                </div>
            </div>

            <div class="output-display" id="seal-output">
                Waiting for file...
            </div>
        </div>
    </section>

    <!-- Section 4: Particle System Demo -->
    <section class="demo-section">
        <div class="demo-card">
            <h1 class="demo-title">Gold Particle Effects</h1>
            <p class="demo-description">
                Dynamic gold dust particle system for visual flourish.
                Click anywhere in the box to create a particle burst.
            </p>

            <div class="component-demo">
                <div class="component-label">Interactive Particle Area</div>
                <div id="particle-container" class="particle-demo-area">
                    <div style="text-align: center; color: #2a4e6c; font-family: 'DM Sans', sans-serif;">
                        <p style="font-weight: 600; margin-bottom: 0.5rem;">Click Anywhere</p>
                        <p style="font-size: 0.875rem; opacity: 0.7;">to create particle burst</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 5: Charts Demo -->
    <section class="demo-section">
        <div class="demo-card" style="max-width: 900px;">
            <h1 class="demo-title">Tri-Factor Visualization</h1>
            <p class="demo-description">
                Data visualization using Chart.js - Donut chart for factor breakdown
                and Radar chart for Cardinal Driver comparison.
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                <div class="component-demo">
                    <div class="component-label">Tri-Factor Model</div>
                    <div class="chart-container">
                        <canvas id="donutChart"></canvas>
                    </div>
                </div>

                <div class="component-demo">
                    <div class="component-label">Cardinal Drivers</div>
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="component-demo" style="margin-top: 2rem;">
                <div class="component-label">Compatibility Score</div>
                <div class="chart-container" style="max-width: 300px;">
                    <canvas id="compatibilityChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Local JavaScript Libraries -->
    <script src="js/lib/spring-physics.js"></script>
    <script src="js/lib/liquid-fill.js"></script>
    <script src="js/lib/particles.js"></script>
    <script src="js/lib/chart-config.js"></script>

    <!-- Local Components -->
    <script src="js/components/floating-input.js"></script>
    <script src="js/components/segmented-control.js"></script>
    <script src="js/components/biometric-seal.js"></script>

    <!-- Demo Initialization -->
    <script>
        // Initialize Floating Inputs
        const nameInput = new FloatingInput('#input-name', {
            label: 'Full Name',
            value: 'Felix Patel',
            required: true,
            onChange: (value) => {
                updateInputOutput('name', value);
            }
        });

        const emailInput = new FloatingInput('#input-email', {
            type: 'email',
            label: 'Email Address',
            value: 'felix@harmonia.ai',
            required: true,
            pattern: '^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$',
            onChange: (value) => {
                updateInputOutput('email', value);
            }
        });

        const ageInput = new FloatingInput('#input-age', {
            type: 'number',
            label: 'Age',
            value: '28',
            required: true,
            onValidate: (value) => {
                const age = parseInt(value);
                if (age < 18) return 'Must be 18 or older';
                if (age > 100) return 'Please enter a valid age';
                return true;
            },
            onChange: (value) => {
                updateInputOutput('age', value);
            }
        });

        function updateInputOutput(field, value) {
            const output = document.getElementById('input-output');
            output.innerHTML = `
                <strong>Name:</strong> ${nameInput.getValue()}<br>
                <strong>Email:</strong> ${emailInput.getValue()}<br>
                <strong>Age:</strong> ${ageInput.getValue()}
            `;
        }

        // Initialize Segmented Controls
        const genderControl = new SegmentedControl('#gender-control', {
            segments: ['Male', 'Female', 'Non-Binary'],
            selected: 0,
            name: 'gender',
            onChange: (index, label) => {
                updateControlOutput();
            }
        });

        const seekingControl = new SegmentedControl('#seeking-control', {
            segments: ['Men', 'Women', 'Everyone'],
            selected: 1,
            name: 'seeking',
            onChange: (index, label) => {
                updateControlOutput();
            }
        });

        function updateControlOutput() {
            const output = document.getElementById('control-output');
            output.innerHTML = `
                <strong>Gender:</strong> ${genderControl.getLabel()}<br>
                <strong>Seeking:</strong> ${seekingControl.getLabel()}
            `;
        }

        // Initial output
        updateControlOutput();

        // Initialize Biometric Seal
        const biometricSeal = new BiometricSeal('#biometric-seal', {
            size: 200,
            label: 'Upload Biometric',
            accept: 'image/*,.pdf',
            showProgress: true,
            onUpload: (file, progress) => {
                const output = document.getElementById('seal-output');
                output.innerHTML = `
                    <strong>File:</strong> ${file.name}<br>
                    <strong>Size:</strong> ${(file.size / 1024).toFixed(2)} KB<br>
                    <strong>Type:</strong> ${file.type}<br>
                    <strong>Progress:</strong> ${progress}%
                `;
            }
        });

        // Initialize Particle System
        const particles = new HarmoniaParticles('#particle-container', {
            particleCount: 50,
            color: '#d4af37',
            size: 3,
            speed: 2,
            direction: 'up',
            opacity: 0.8
        });

        document.getElementById('particle-container').addEventListener('click', (e) => {
            const rect = e.currentTarget.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            particles.burst(x, y, 30);
        });

        // Initialize Charts
        const chartHelper = new HarmoniaCharts();

        // Tri-Factor Donut Chart
        const donutChart = chartHelper.createTriFactorDonut('donutChart', {
            data: {
                visual: 50,
                psychometric: 35,
                genetic: 10,
                serendipity: 5
            },
            showLegend: true,
            cutout: '70%'
        });

        // Cardinal Drivers Radar Chart
        const radarChart = chartHelper.createCardinalRadar('radarChart', {
            userScores: [5, 3, 4, 3, 4, 2, 5],
            matchScores: [4, 4, 3, 5, 3, 3, 4],
            userLabel: 'You',
            matchLabel: 'Match',
            showLegend: true,
            maxScore: 5
        });

        // Compatibility Donut Chart
        const compatibilityChart = chartHelper.createCompatibilityDonut('compatibilityChart', {
            percentage: 87
        });

        console.log('âœ¨ Harmonia Apex Match - All components initialized successfully!');
        console.log('ðŸ“Š Components loaded:', {
            inputs: 3,
            controls: 2,
            seal: 1,
            particles: 1,
            charts: 3
        });
    </script>

</body>
</html>
